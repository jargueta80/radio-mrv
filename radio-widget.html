radio-widget.html
<script>
const audio = document.getElementById("player");
const playBtn = document.getElementById("playBtn");
const volume = document.getElementById("volume");
const trackInfo = document.getElementById("trackInfo");

let playing = false;

playBtn.onclick = async () => {
  try {
    if (!playing) {
      await audio.play();
      playing = true;
      playBtn.textContent = "⏸";
    } else {
      audio.pause();
      playing = false;
      playBtn.textContent = "▶";
    }
  } catch (e) {
    console.log("Error al reproducir:", e);
    trackInfo.textContent = "Error al iniciar el audio";
  }
};

volume.oninput = () => audio.volume = volume.value;

/* METADATA */
async function loadMetadata() {
  try {
    const res = await fetch("https://corsproxy.io/?http://stream2.305stream.com:8890/status-json.xsl");
    const data = await res.json();
    const title = data.icestats.source.title || "En vivo";
    trackInfo.textContent = title;
  } catch {
    trackInfo.textContent = "En vivo";
  }
}
setInterval(loadMetadata, 5000);
loadMetadata();
</script>
