radio-widget.html
<script>
  const audio = document.getElementById("player");
  const playBtn = document.getElementById("playBtn");
  const volume = document.getElementById("volume");
  const trackInfo = document.getElementById("trackInfo");
  const eq = document.getElementById("eq");

  let playing = false;

  playBtn.onclick = () => {
    if (!playing) {
      audio.volume = volume.value;
      audio.play()
        .then(() => {
          playing = true;
          playBtn.textContent = "⏸";
          eq.style.opacity = 1;
        })
        .catch(err => {
          console.log("Error al reproducir:", err);
          trackInfo.textContent = "Error al iniciar el audio";
        });
    } else {
      audio.pause();
      playing = false;
      playBtn.textContent = "▶";
      eq.style.opacity = 0;
    }
  };

  volume.oninput = () => {
    audio.volume = volume.value;
  };

  async function loadMetadata() {
    try {
      const res = await fetch("http://stream2.305stream.com:8890/status-json.xsl");
      const data = await res.json();
      const title = data.icestats?.source?.title || "En vivo";
      trackInfo.textContent = title;
    } catch {
      trackInfo.textContent = "En vivo";
    }
  }

  setInterval(loadMetadata, 5000);
  loadMetadata();
</script>
